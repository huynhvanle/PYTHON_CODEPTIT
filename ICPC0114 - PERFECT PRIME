from math import *
def isPrime(n):
    if n < 2: return False
    for i in range(2, int(sqrt(n)) + 1):
        if n % i == 0:
            return False
    return True
def check(n):
    tmp = int(n)
    cnt = 0
    rev = int(n[::-1])
    while tmp > 0:
        h = tmp % 10
        cnt += h
        if isPrime(h) == False:
            return False
        tmp = tmp // 10
    return isPrime(int(n)) and isPrime(cnt) and isPrime(rev)
for t in range(int(input())):
    n = input()
    if check(n):
        print("Yes")
    else:
        print("No")


# bài này dùng sàng số nt cứ bị lỗi k hiểu sao
